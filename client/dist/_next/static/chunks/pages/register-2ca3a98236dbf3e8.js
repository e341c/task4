(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[495],{5511:function(e,s,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register",function(){return r(4134)}])},4377:function(e,s,r){"use strict";var a=r(6154);s.Z=a.Z.create({baseURL:"https://task4-server-4uuf.onrender.com"})},8966:function(e,s){"use strict";s.Z={headers:{"Content-Type":"application/json"},withCredentials:!0}},4134:function(e,s,r){"use strict";r.r(s);var a=r(5893);r(4494);var t=r(3680),n=r(2671),o=r(7294),l=r(8260),c=r(1163),i=r(4377),d=r(8966);s.default=function(){let e=(0,c.useRouter)(),s=new Date,r=(0,l.Z)(s,"yyyy-MM-dd HH:mm:ss"),[h,u]=(0,o.useState)(!1),[p,m]=(0,o.useState)(!1),[x,w]=(0,o.useState)(!1),[j,y]=(0,o.useState)(!1),[f,g]=(0,o.useState)(!1),[Z,b]=(0,o.useState)(!1),[N,C]=(0,o.useState)({name:"",email:"",password:"",passwordMatch:"",createdAt:r,updatedAt:r,status:!0}),E=e=>{C(s=>({...s,[e.target.name]:e.target.value}))},v=async s=>{s.preventDefault();try{N.name.length>=1?(u(!1),N.password.length>=1?(m(!1),-1!==N.email.indexOf("@")?(y(!1),N.password===N.passwordMatch?(w(!1),await i.Z.post("/api/signup",N,d.Z).then(s=>{console.log("Axios responce",s.status),201===s.status&&e.push("/login")}),b(!1)):w(!0)):y(!0)):0==N.password.length&&m(!0)):(u(!0),b(!0))}catch(e){409==e.status?g(!0):g(!1)}};return(0,a.jsx)("div",{className:"d-flex justify-content-center align-items-center",style:{height:"100vh",background:"rgba(0,0,0,.1)"},children:(0,a.jsxs)("div",{style:{width:"600px",marginTop:"-3rem",background:"#fff",borderRadius:"10px"},children:[(0,a.jsxs)(n.Z,{className:"p-5 d-flex flex-column align-items-center",children:[(0,a.jsx)("h2",{className:"mb-4",children:"Register"}),(0,a.jsxs)(n.Z.Group,{className:"mb-3 w-100",controlId:"formBasicEmail",children:[(0,a.jsx)(n.Z.Label,{children:"Your name"}),(0,a.jsx)(n.Z.Control,{type:"text",placeholder:"Enter your name",onChange:E,name:"name"}),h&&(0,a.jsx)("p",{style:{color:"red"},children:"Name is too short"})]}),(0,a.jsxs)(n.Z.Group,{className:"mb-3 w-100",controlId:"formBasicEmail",children:[(0,a.jsx)(n.Z.Label,{children:"Email address"}),(0,a.jsx)(n.Z.Control,{type:"email",placeholder:"Enter your email",onChange:E,name:"email"}),j&&(0,a.jsx)("p",{style:{color:"red"},children:"Incorrect Email"}),f&&(0,a.jsx)("p",{style:{color:"red"},children:"User with that Email already exists"})]}),(0,a.jsxs)(n.Z.Group,{className:"mb-3 w-100",controlId:"formBasicPassword",children:[(0,a.jsx)(n.Z.Label,{children:"Password"}),(0,a.jsx)(n.Z.Control,{type:"password",placeholder:"Enter your password",onChange:E,name:"password"}),p&&(0,a.jsx)("p",{style:{color:"red"},children:"Password is too short"})]}),(0,a.jsxs)(n.Z.Group,{className:"mb-3 w-100",controlId:"formBasicPassword",children:[(0,a.jsx)(n.Z.Label,{children:"Repeat your password"}),(0,a.jsx)(n.Z.Control,{type:"password",placeholder:"Repeat your password",onChange:E,name:"passwordMatch"}),x&&(0,a.jsx)("p",{style:{color:"red"},children:"Passwords do not match"})]}),Z&&(0,a.jsx)("p",{style:{color:"red"},children:"All inputs are required"}),(0,a.jsx)(t.Z,{className:"w-100 mt-3",variant:"primary",onClick:v,children:"Register"})]}),(0,a.jsx)("div",{className:"d-flex justify-content-center mb-4",children:(0,a.jsxs)("p",{children:["Already have an account?"," ",(0,a.jsx)("a",{href:"/login",children:"Login now"})]})})]})})}}},function(e){e.O(0,[129,727,267,774,888,179],function(){return e(e.s=5511)}),_N_E=e.O()}]);